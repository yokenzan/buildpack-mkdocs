#!/usr/bin/env bash

# Fail fast and fail hard.
set -eo pipefail

BUILD_DIR=$1

cd $BUILD_DIR

# puts-step "Installing MkDocs"
# python -m pip install --quiet mkdocs | indent

puts-step "Running MkDocs"

if [[ -f mkdocs.yml ]]; then
  CONFIG_FILE="mkdocs.yml"
else
  puts-warn "A mkdocs.yml file is required."
  exit 1
fi

mkdocs build -c -d $BUILD_DIR/public -f $CONFIG_FILE | indent
